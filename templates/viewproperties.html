{% extends 'base.html' %}

{% block head %}
{% endblock %}

{% block title %}Run{% endblock %}

{% block body %}

<head>
  <link rel="stylesheet" href="../static/css/main.css">
</head>
<div style="width:800px; margin:0 auto;">
<span class="dropdown">
  <button style="width:800px; margin:0 auto; margin-top: 10px;" class="dropbtn">Select location</button>
  <div class="dropdown-content">
    <a href="../viewpropertiesbylocation/cabmedigi">
    <div style="width:800px; margin:0 auto; margin-top: 10px;">Ottawa</div>
  </a>
  <a href="../viewpropertiesbylocation/Gatineau">
  <div>Gatineau</div>
</a>
</a>
<a href="../viewpropertiesbylocation/Calgary">
<div>Calgary</div>
</a>
<a href="../viewpropertiesbylocation/Toronto">
<div>Toronto</div>
</a>
<a href="../viewpropertiesbylocation/Vancouver">
<div>Vancouver</div>
</a>
<a href="../viewpropertiesbylocation/Montreal">
<div>Montreal</div>
</a>
<a href="../viewpropertiesbylocation/Quebec City">
<div>Quebec City</div>
</a>
<a href="../viewpropertiesbylocation/Windsor">
<div>Windsor</div>
</a>
<a href="../viewpropertiesbylocation/Edmonton">
<div>Edmonton</div>
</a>
  </div>
</span>
</div>




  <div class="container mt-5 mb-5">
    <div class="d-flex justify-content-center row">
      <div class="col-md-10">
        <table class="table table-hover table-bordered table-sm">
              <thead class="thead-dark">
              </thead>
                {% for property in properties %}
                    <tr>
                      <div class="row p-2 bg-white border rounded">
                          <div class="col-md-3 mt-1"><img class="img-fluid img-responsive rounded product-image" src="https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"></div>
                          <div class="col-md-6 mt-1">
                              <h5>{{property.description}}</h5>
                              <div class="d-flex flex-row">
                                  <div class="ratings mr-2"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></div><span></span>
                              </div>
                              <div class="mt-1 mb-1 spec-1">
                                <span><b>{{property.address}}</b></span></br></br>
                                <span>Number of Bedrooms: {{number_of_bedrooms}}</span></br>
                                <span>Number of Bathrooms: {{number_of_bathrooms}}<br></span>
                                <span>Number of other rooms: {{number_of_rooms}}</span></div>

                              <div class="mt-1 mb-1 spec-1">
                                <span>Type of property: {{type_of_property}}</span>
                              </div>
                          </div>
                          <div class="align-items-center align-content-center col-md-3 border-left mt-1">
                              <div class="d-flex flex-row align-items-center">
                                  <h4 class="mr-1">{{property.price}}$</h4>
                              </div>
                              <div class="d-flex flex-column mt-4">
                                {% if request.path=="/viewproperties" %}
                                <a href="../property/{{property.id}}">
                                <button class="btn btn-primary btn-lg btn-block" type="button">Details</button>
                              </a>
                              {% else %}
                              <a href="../property/{{property.id}}">
                              <button class="btn btn-primary btn-lg btn-block" type="button">Details</button>
                            </a>
                            {% endif %}

                            </br>
                              {% if ((request.path=="/viewproperties") or (request.path=="/viewpropertiesbylocation/Ottawa") or (request.path=="/viewpropertiesbylocation/Gatineau") or (request.path=="/viewpropertiesbylocation/Toronto") or (request.path=="/viewpropertiesbylocation/Calgary") or (request.path=="/viewpropertiesbylocation/Montreal") or (request.path=="/viewpropertiesbylocation/Windsor") or (request.path=="/viewpropertiesbylocation/Vancouver")) %}
                              <a href="../addtovisitinglist/{{property.id}}">
                                <button class="btn btn-secondary btn-lg btn-block" type="button">Add to visiting list</button>
                              </a>
                              {% else %}
                              <a href="../removefromvisitinglist/{{property.id}}">
                                <button class="btn btn-secondary btn-lg btn-block" type="button">Remove from list</button>
                              </a>
                              {% endif %}
                              
                            </div>
                          </div>
                      </div>
                    </tr>

                {% endfor %}
          </table>

        </div>

    </div>
</div>



{% endblock %}
